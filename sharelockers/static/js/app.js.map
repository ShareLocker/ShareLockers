{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/js/alertStatus.js","src/js/animations.js","src/js/buyItem.js","src/js/controllers/dashboard.js","src/js/controllers/help.js","src/js/controllers/home.js","src/js/controllers/locations.js","src/js/controllers/locker-list.js","src/js/controllers/my-items.js","src/js/getCookie.js","src/js/init.js","src/js/lockerGenerator.js","src/js/openLocker.js","src/js/router.js","src/js/show.js","src/js/showLists.js","src/js/sorted-router.js","src/js/stock.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\n\nmodule.exports = function (msg) {\n\t$('.message').html(msg);\n \t$('.alert-container').show();\n  \t$('.message').html(msg);\n\t$('.close-alert').click(function(){\n\t\t $('.alert-container').hide();\n\t });\n\t$('.alert-button').click(function(){\n\t\t $('.alert-container').hide();\n\t});\n};","// var $ = require(\"jquery\");\n//\n// // HEADER ANIMATION\n// $(function () {\n//\n// \t$(window).scroll(function() {\n// \t  if ($(this).scrollTop() > 1){\n// \t    $('.my-page-header').addClass(\"sticky\");\n// \t  } else {\n// \t    $('.my-page-header').removeClass(\"sticky\");\n// \t  }\n// \t});\n//\n// \t// Scroll Indicator\n// \tvar homeIconContainerTop = $('.home-icons').offset().top - ($(window).height());\n//\n// \tvar homeIconContainerTop2 = $('.home-icons2').offset().top - ($(window).height());\n//\n// \t$(window).scroll(function() {\n//\n// \t\tif ($(window).scrollTop () > homeIconContainerTop) {\n// \t\t\t$('.home-icons').addClass('slideRight');\n// \t\t}\n// \t\tif ($(window).scrollTop () > homeIconContainerTop2) {\n// \t\t\t$('.home-icons2').addClass('slideRight');\n// \t\t}\n//\n// \t});\n//\n// });\n//\n// // $(document).ready(function(){\n// //   $(\".scroll\").animate( \".scroll\" , 1000 , swing, complete);\n// // });\n","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar getCookie = require('../js/getCookie');\nvar openLocker = require('../js/openLocker');\nvar alertStatus = require('../js/alertStatus');\n\nmodule.exports = function(button) {\n    var csrftoken = getCookie('csrftoken');\n    $(document).on('click', button, function(e) {\n        console.log($(this));\n        $('.lgn-button').attr('data-price', $(this).data('price'));\n        $('.lgn-button').attr('data-id', $(this).data('id'));\n        $('.lgn-button').attr('data-locker', $(this).data('locker'));\n        console.log($('.user-id').html().length);\n        if ($('.user-id').html().length === 1) {\n            $('.not-loggedin-container').css(\"width\", \"100%\");\n            $('.stock-wrapper').show();\n            $('.close').click(function() {\n                $('.stock-wrapper').hide();\n                $('.not-loggedin-container').css(\"width\", \"0%\");\n                $('.buy-confirmation-container').css(\"width\", \"0%\");\n                $('.buy-open-container').css(\"width\", \"0%\");\n            });\n            $('.lgn-button').click(function() {\n                $('.buy-confirmation-container').css(\"width\", \"100%\")\n                $('.cost').html($(this).data('price'));\n                $('.confirm-btn').attr('data-price', $(this).data('price'));\n                $('.confirm-btn').attr('data-id', $(this).data('id'));\n                $('.confirm-btn').attr('data-locker', $(this).data('locker'));\n                var username = $('.username-login').val();\n                var password = $('.user-password').val();\n                $.ajax({\n                    beforeSend: function(request) {\n                        request.setRequestHeader('X-CSRFToken', csrftoken);\n                    },\n                    method: 'POST',\n                    url: '/login/',\n                    data: {\n                        \"username\": username,\n                        \"password\": password\n                    }\n\n                }).done(function(data) {\n                    console.log(data);\n                    var id = data.match(/data-id=\"(\\d+)/);\n                    var user = parseInt(id[1]);\n                    $('.confirm-btn').attr('data-owner', user);\n                }).fail(function(data) {\n                    alertStatus('oh no! try again');\n                });\n            });\n            $('.close').click(function() {\n                parent.location.reload();\n            });\n            $('.cancel-btn').click(function() {\n                parent.location.reload();\n            });\n            $('.open-later').click(function() {\n                parent.location.reload();\n            });\n        } else {\n            var user = parseInt($('.user-id').data('id'));\n            console.log(user);\n            $('.buy-confirmation-container').css(\"width\", \"100%\")\n            $('.cost').html($(this).data('price'));\n            $('.confirm-btn').attr('data-price', $(this).data('price'));\n            $('.confirm-btn').attr('data-id', $(this).data('id'));\n            $('.confirm-btn').attr('data-owner', user);\n            $('.confirm-btn').attr('data-locker', $(this).data('locker'));\n            $('.close').click(function() {\n                $('.stock-wrapper').hide();\n                $('.not-loggedin-container').css(\"width\", \"0%\");\n                $('.buy-confirmation-container').css(\"width\", \"0%\");\n                $('.buy-open-container').css(\"width\", \"0%\");\n            });\n        }\n        $('.confirm-btn').click(function() {\n            var csrftoken = getCookie('csrftoken');\n            var itemId = this.getAttribute('data-id');\n            var user = this.getAttribute('data-owner');\n            $('.open-now').attr('data-locker', $(this).data('locker'));\n            console.log(csrftoken);\n            $.ajax({\n                beforeSend: function(request) {\n                    console.log(csrftoken)\n                    request.setRequestHeader('X-CSRFToken', csrftoken);\n                },\n                method: 'POST',\n                url: '/api/purchases/',\n                data: {\n                    \"item\": itemId,\n                    \"buyer\": user\n                }\n            }).done(function(data) {\n                console.log(data);\n\n                $('.buy-open-containter').css(\"width\", \"100%\");\n                console.log($(this).data('locker'));\n                openLocker('.open-now', user);\n            }).fail(function(data) {\n                alertStatus(\"Item could not be purchased\");\n                console.log(data.responseText);\n            });\n\n        });\n\n        $('.cancel-btn').click(function() {\n            $('.not-loggedin-container').css(\"width\", \"0%\");\n            $('.buy-confirmation-container').css(\"width\", \"0%\");\n        });\n        $('.open-later').click(function() {\n            $('.not-loggedin-container').css(\"width\", \"0%\");\n            $('.buy-confirmation-container').css(\"width\", \"0%\");\n            setTimeout('parent.location.reload()', 100);\n        });\n        document.location.href = '/#/dashboard'\n    });\n}\n","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\nvar show = require('../show');\nvar showLists =require('../showLists');\nvar lockers =require('../controllers/locker-list');\n\n\nrouter.route('dashboard', function () {\n  show('dashboard');\n\t$('.this-user').html($('.user-id').attr('data-name'));\n  lockers();\n  $(\".this-credits\").html($(\".user-id\").attr(\"data-credits\"));\n  \n// RESPONSIVE DASHBOARD MENU\n\t\t\t\n\t\t\t(function () {\n    \n    var layout   = document.getElementById('layout'),\n        menu     = document.getElementById('menu'),\n        menuLink = document.getElementById('menuLink');\n\n    function toggleClass(element, className) {\n        var classes = element.className.split(/\\s+/),\n            length = classes.length,\n            i = 0;\n\n        for(; i < length; i++) {\n          if (classes[i] === className) {\n            classes.splice(i, 1);\n            break;\n          }\n        }\n        // The className is not found\n        if (length === classes.length) {\n            classes.push(className);\n        }\n\n        element.className = classes.join(' ');\n    }\n\n    menuLink.onclick = function (e) {\n        var active = 'active';\n\n        e.preventDefault();\n        toggleClass(layout, active);\n        toggleClass(menu, active);\n        toggleClass(menuLink, active);\n    };\n\n}(this, this.document));\n// api info for 'My Items' TAB IS BELOW\t\n\n$('.items').on('click', function() {\n  window.location.href = '/reservations/';\n  // //$(\".generated\").show();\n  // $(\".faq\").hide();\n  //   $.ajax({\n  //   \t\t\tmethod: 'GET', \n  //   \t\t\turl: '/api/owneditems/',\n  //     \t\t}).done(function (data){\n  //   \t\t\tconsole.log(data);\n  //         showLists(data, 'my-items', '.generated');\n    \t\t\n    // });\n   });\n   \n   \n\n$(\".help\").click(function(){\n  \n    $(\".faq-container\").show();\n    $(\".faq\").show();\n    $(\".generated\").hide();\n});\n\n$(\".close-help\").click(function(){\n    $(\".faq-container\").hide();\n})\n\n//api info for LOCATION TAB IS BELOW\n\n// $('.location').on('click', function() {\n    \n//     $.ajax({\n//     \t\t\tmethod: 'GET', \n//     \t\t\turl: '/api/hubs/',\n//       \t\t}).done(function (data){\n//     \t\t\tconsole.log(data);\n//           showLists(data, 'locations', '.generated');\n    \t\t\t\n//     });\n\n// });\n\n//api info for PROFILES TAB IS BELOW\n  var buyerId = $('.user-id').attr('data-id');\n  \n// $('.profile').on('click', function() {\n     \n//     $.ajax({\n//     \t\t\tmethod: 'GET', \n//     \t\t\turl: '/api/profiles/' + buyerId,\n//       \t\t}).done(function (data){\n//     \t\t\tconsole.log(data);\n//           showLists(data, 'profile', '.generated');\n    \t\t\t\n//     });\n//    });\n});\n    \n\n\n\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\n\n","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\nvar show = require('../show');\n\nrouter.route('help', function () {\n\t\t\n\tshow('help');\n\t$.ajax({\n\t\t\tmethod: 'GET', \n\t\t\turl: '/api/profiles/',\n  \t\t}).done(function (data){\n\t\t\tconsole.log(data);\n\t\t});\n\t\n\n\n});","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\nvar show = require('../show');\n\nrouter.route('', function () {\n\t\t\n\tshow('home');\n\t$.ajax({\n\t\t\tmethod: 'GET', \n\t\t\turl: 'https://sharelockers.herokuapp.com/api/profiles/',\n  \t\t}).done(function (data){\n\t\t\tconsole.log(data);\n\t\t});\n\t\n\n\n});","","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\nvar show = require('../show');\nvar getCookie = require('../getCookie');\nvar lockerGenerator = require('../lockerGenerator');\nvar openLocker = require('../openLocker');\nvar buyItem = require('../buyItem');\nvar stock = require('../stock');\n\n\nmodule.exports = function () {\n\n\n\t\t$.ajax({\n\t\t\tmethod: 'GET',\n\t\t\turl: '/api/lockers/',\n  \t\t}).done(function (data){\n\n\t\t\tconsole.log(data);\n\t\t\tshowLockers(data);\n\t\t\tlockerGenerator(data);\n\t\t\tstock();\n\t\t\t$(document).ready(function() {\n\t\t\t\tvar currentUser = parseInt($('.user-id').attr('data-id'));\n\t\t            $('.locker-wrapper').click(function() {\n\t\t\t\t\t\tif ($(this).data('id') !== undefined) {\n\t\t\t\t\t\t\tif ($(this).data('photo') === null ) {\n\t\t\t\t\t\t\t\t$('.item-photo').hide();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t else {\n\t\t\t\t\t\t\t\t$('.item-photo').attr('src', $(this).data('photo'));\n\t\t\t\t\t\t\t\t$('.item-photo').show();\n\t\t\t\t\t\t\t }\n\t\t\t                $('.lockerDetails').html($(this).data('details'));\n\t\t\t\t\t\t\t$('.lockerDetails').append('<br>$');\n\t\t\t\t\t\t\t$('.lockerDetails').append($(this).data('price'));\n\t\t\t\t\t\t\tif ($(this).data('owner') === currentUser){\n\t\t\t\t\t\t\t\t$('.open-button').attr('data-locker', $(this).data('locker'));\n\t\t\t\t\t\t\t\t$('.stock-button').hide();\n\t\t\t\t\t\t\t\t$('.open-button').show();\n\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t$('.buy-button').attr('data-id', $(this).data('id'));\n\t\t\t\t\t\t\t\t$('.buy-button').attr('data-price', $(this).data('price'));\n\t\t\t\t\t\t\t\t$('.buy-button').attr('data-locker', $(this).data('locker'));\n\t\t\t\t\t\t\t\t$('.stock-button').hide();\n\t\t\t\t\t\t\t\t$('.buy-button').show();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t$('.open-button').attr('data-locker', $(this).data('locker'));\n\t\t\t\t\t\t\t$('.stock-button').attr('data-locker', $(this).data('locker'));\n\t\t\t\t\t\t\t$('.item-photo').hide();\n\t\t\t\t\t\t\t$('.lockerDetails').html('EMPTY');\n\t\t\t\t\t\t\t$('.stock-button').show();\n\t\t\t\t\t\t\t$('.open-button').hide();\n\t\t\t\t\t\t\t$('.buy-button').hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$('.action-container').slideDown('duration fast');\n\t\t\t\t\t\t$('.stock-wrapper').fadeIn('duration fast');\n\n\t\t            });\n\t\t            $('.close').click(function() {\n\t\t                $('.action-container').fadeOut('duration fast');\n\t\t\t\t\t\t$('.stock-wrapper').fadeOut('duration fast');\n\t\t\t\t\t\t$('.stock-container').css('width', \"0%\");\n\t\t            });\n\t\t\t\t\topenLocker('.open-button', currentUser);\n\t\t\t\t\tbuyItem('.buy-button');\n\t\t    });\n\t\t\t// $('.login-submit').on('click', function(){\n\t\t\t// \tvar username =$('.login-username').val();\n\t\t\t// })\n\t\t});\n\n\t\t// $.ajax({\n\t\t// \tmethod: 'GET',\n\t\t// \turl: '/api/profiles/',\n  \t\t// }).done(function (data){\n\t\t// \tconsole.log(data);\n\t\t// });\n\n\n\t\tfunction showLockers(data) {\n\t\t\tvar lockerTemplate = views['locker-list'];\n\t\t    var templateFn = _.template(lockerTemplate, { variable: 'm' });\n\t\t    var lockerHTML = templateFn({ lockers: data });\n\t\t\t$('.content').append(lockerHTML);\n\t\t\treturn data;\n\t\t}\n\n\n};\n","var $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../router');\nvar show = require('../show');\nvar showLists = require('../showLists')\nvar getCookie = require('../getCookie')\nvar openLocker = require('../openLocker')\n\nrouter.route('my-items/user', function () {\n\t\n\t\n\t\t$.ajax({\n\t\t\tmethod: 'GET', \n\t\t\turl: '/api/owneditems/',\n  \t\t}).done(function (data){\n\t\t\tconsole.log(data);\n\t\t\tshowLists(data, 'my-items', '.main-content');\n\t\t\topenLocker('.list-item');\n\t\t  });\n\t\t\n });","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\n\nmodule.exports = function getCookie(name) {\n    var cookieValue = null;\n    if (document.cookie && document.cookie != '') {\n        var cookies = document.cookie.split(';');\n        for (var i = 0; i < cookies.length; i++) {\n            var cookie = $.trim(cookies[i]);\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) == (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    console.log(cookieValue);\n    return cookieValue;\n\n};","// TODO: put initialization logic here\n'use strict';\n\n\nvar router = require('./router');\n\nrequire('./animations');\n\n// Require all of our controllers\n({\"controllers\":({\"dashboard\":require(\"./controllers/dashboard.js\"),\"help\":require(\"./controllers/help.js\"),\"home\":require(\"./controllers/home.js\"),\"locations\":require(\"./controllers/locations.js\"),\"locker-list\":require(\"./controllers/locker-list.js\"),\"my-items\":require(\"./controllers/my-items.js\")})});\n\n// Start the router\nrouter.init();","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\n\n\n\nmodule.exports = function(arr) {\n    var i = 0;\n\n    while (i < arr.length) {\n        console.log(arr);\n        var lockerId = arr[i].id\n        var lockerTitle = arr[i].local_code;\n        var lockerActions = arr[i].actions;\n        var currentUser = $('.user-id').attr('data-id');\n\n        if (lockerActions[1] === \"can_open\") {\n            var openHTML = '<div class=\"locker-wrapper\" data-locker=' + lockerId + '><div class=\"vlocker\"><span class=\"card animated\"><span class=\"lockerTitle\">' + lockerTitle + '<br>EMPTY</span></span></div></div>';\n            $('.locker-bank').append(openHTML);\n        } \n\t\telse {\n            var itemPhoto = arr[i].item_set[0].photo;\n            var itemOwner = arr[i].item_set[0].owner;\n            var itemTitle = arr[i].item_set[0].title;\n            var itemDetails = arr[i].item_set[0].description;\n            var itemId = arr[i].item_set[0].id;\n            var itemPrice = arr[i].item_set[0].price;\n\t            if (itemPhoto === null) {\n\t                var html = '<div data-photo=\"' + itemPhoto + '\" data-price=' + itemPrice + ' data-owner=' + itemOwner + ' data-details=\"' + itemDetails + '\" data-id=' + itemId + ' data-locker=' + lockerId + ' class=\"locker-wrapper\"><div class=\"vlocker\"><span class=\"card animated\"><span class=\"lockerTitle\">' + lockerTitle + '<br>' + itemTitle + '</span></span></div></div>';\n\t                $('.locker-bank').append(html);\n\t            } \n\t\t\t\telse {\n\t                var ownerHtml = '<div data-photo=\"' + itemPhoto + '\" data-price=' + itemPrice + ' data-owner=' + itemOwner + ' data-details=\"' + itemDetails + '\" data-id=' + itemId + ' data-locker=' + lockerId + ' class=\"locker-wrapper\"><div class=\"vlocker\"><span class=\"card animated\"><div class=\"image-wrapper\"><img src=' + itemPhoto + '></div><span class=\"lockerTitle\">' + lockerTitle + '<br>' + itemTitle + '</span></span></div></div>';\n\t                $('.locker-bank').append(ownerHtml);\n\t            }\n\n        }\n\n        ++i;\n\n    };\n\n};","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar getCookie = require('../js/getCookie');\nvar alertStatus = require('../js/alertStatus');\n\nmodule.exports = function(button, user) {\n    $(document).on('click', button, function() {\n        console.log(this);\n        var id = this.getAttribute('data-locker');\n        var profile = user;\n        var csrftoken = getCookie('csrftoken');\n        console.log(csrftoken);\n        $.ajax({\n            beforeSend: function(request) {\n                console.log(csrftoken)\n                request.setRequestHeader('X-CSRFToken', csrftoken);\n            },\n            method: 'POST',\n            url: '/api/unlocks/',\n            data: {\n                \"waiting\": true,\n                \"profile\": profile,\n                \"locker\": id\n            }\n        }).done(function(data) {\n            console.log(data);\n            alertStatus(\"Locker open\");\n            setTimeout('parent.location.reload()', 100);\n        }).fail(function(data) {\n            console.log(data);\n            alertStatus(\"Unable to open at this time\");\n        })\n    });\n\n}","'use strict';\n\nvar SortedRouter = require('./sorted-router');\n\nmodule.exports = new SortedRouter();","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\n\nmodule.exports = function (templateName, model) {\n  var rawTemplate = views[templateName];\n  var templateFn = _.template(rawTemplate, { variable: 'm' });\n  var hydratedHTML = templateFn(model);\n  \n  $('.main-content').html(hydratedHTML);\n};","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\n\nmodule.exports = function showLists(data, view, html) {\n\t\t\tvar listTemplate = views[view];\n\t\t    var templateFn = _.template(listTemplate, { variable: 'm' });\n\t\t    var listHTML = templateFn({ items: data });\n\t\t\t$(html).html(listHTML);\n\t\t\treturn data;\n};","'use strict';\n \nvar Backbone = require('backbone');\nvar _ = require('underscore');\n \nvar SortedRouter = Backbone.Router.extend({\n  sortedRoutes: {},\n  \n  // Overwrite the Backbone.Router.route method so we can \n  // register routes in the correct order.\n  route: function () {\n    var len = arguments.length - 1,\n        callback = arguments[arguments.length - 1];\n \n    for (var i = 0; i < len; ++i) {\n      this.sortedRoutes[arguments[i]] = callback;\n    }\n  },\n  \n  init: function () {\n    // A magic number to force a route to be lowest specificity\n    // Number.MIN_VALUE didn't work...\n    var lowestRoute = -1000000;\n    var me = this;\n \n    // Register all routes, sorted by specificity\n    _.chain(_.pairs(this.sortedRoutes))\n      .sortBy(function (route) {\n        var url = route[0];\n \n        if (url.indexOf('*') >= 0) {\n          return lowestRoute;\n        } else {\n          return -url.split(':').length;\n        }\n      })\n      .each(function (route) {\n        Backbone.Router.prototype.route.apply(me, route);\n      });\n \n    // Start the backbone routing subsystem\n    Backbone.history.start();\n  }\n});\n \nmodule.exports = SortedRouter;","'use strict';\n\nvar $ = require('jquery');\nvar _ = require('underscore');\nvar views = require('views');\nvar router = require('../js/router');\nvar getCookie = require('../js/getCookie');\nvar show = require('../js/show');\nvar showLists = require('../js/showLists');\nvar openLocker = require('../js/openLocker');\nvar alertStatus = require('../js/alertStatus');\n\nmodule.exports = function() {\n\n    $('.stock-button').click(function() {\n        if ($('.user-id').html().length === 1) {\n            $('.not-loggedin-container').css(\"width\", \"100%\");\n            $('.stock-wrapper').show();\n            $('.lgn-button').click(function() {\n                var csrftoken = getCookie('csrftoken');\n                var username = $('.username-login').val();\n                var password = $('.user-password').val();\n                $.ajax({\n                    beforeSend: function(request) {\n                        request.setRequestHeader('X-CSRFToken', csrftoken);\n                    },\n                    method: 'POST',\n                    url: '/login/',\n                    data: {\n                        \"username\": username,\n                        \"password\": password\n                    }\n                }).done(function(data) {\n                    console.log(data);\n                    var id = data.match(/data-id=\"(\\d+)/);\n                    var user = parseInt(id[1]);\n                    setTimeout('parent.location.reload()', 500);\n                }).fail(function(data) {\n                    alertStatus('Unable to open at this time');\n                    console.log(data);\n                });\n            });\n            $('.close').click(function() {\n                $('.stock-wrapper').hide();\n                $('.not-loggedin-container').css(\"width\", \"0%\");\n            });\n        } else {\n            $('.stock-container').css(\"width\", \"100%\");\n        };\n\n        var lockerId = $(this).attr('data-locker');\n        console.log(lockerId);\n        $.ajax({\n            method: 'GET',\n            url: '/api/owneditems/',\n        }).done(function(data) {\n            console.log(data);\n            showLists(data, 'stock', '.item-select');\n            $('.item-inventory').on('change', function() {\n                $('.item-title').val($(\".item-inventory option:selected\").data('title'));\n                $('.item-description').val($(\".item-inventory option:selected\").data('description'));\n                $('.item-price').val($(\".item-inventory option:selected\").data('price'));\n                $('.item-id').val($(\".item-inventory option:selected\").data('id'));\n            });\n\n\n            $('.item-stock').click(function(e) {\n                openLocker('.item-stock', owner);\n                e.stopPropagation();\n                e.preventDefault();\n                var data = new FormData();\n                var file = $('.photo-input').get(0).files[0];\n                var csrftoken = getCookie('csrftoken');\n                var title = $('.item-title').val();\n                var description = $('.item-description').val();\n                var price = $('.item-price').val();\n                var owner = $('.user-id').attr('data-id');\n                var photo = $('.photo-input').val();\n                console.log(photo);\n                data.append('photo', file);\n                data.append('title', title);\n                data.append('description', description);\n                data.append('price', price);\n                data.append('owner', owner);\n                data.append('locker', lockerId);\n\n                if ($('.item-id').val() == 0) {\n                    if (photo == 0) {\n                        $.ajax({\n                            beforeSend: function(request) {\n                                console.log(csrftoken)\n                                request.setRequestHeader('X-CSRFToken', csrftoken);\n                            },\n                            method: 'POST',\n                            url: '/api/unlocks/',\n                            data: {\n                                \"waiting\": true,\n                                \"profile\": owner,\n                                \"locker\": lockerId\n                            }\n                        }).done(function(x) {\n                            console.log(x);\n                            alertStatus(\"Locker Open\");\n                            $.ajax({\n                                beforeSend: function(request) {\n                                    request.setRequestHeader('X-CSRFToken', csrftoken);\n                                },\n                                method: 'POST',\n                                url: '/api/owneditems/',\n                                data: {\n                                    'title': title,\n                                    'description': description,\n                                    'price': price,\n                                    'owner': owner,\n                                    'locker': lockerId\n                                }\n                            }).done(function(data) {\n                                setTimeout('parent.location.reload()', 500);\n                            });\n                        }).fail(function(data) {\n                            console.log(data);\n                            alertStatus(\"Unable to open at this time\");\n                        })\n\n                    } else {\n                        $.ajax({\n                            beforeSend: function(request) {\n                                request.setRequestHeader('X-CSRFToken', csrftoken);\n                            },\n                            method: 'POST',\n                            url: '/api/unlocks/',\n                            data: {\n                                \"waiting\": true,\n                                \"profile\": owner,\n                                \"locker\": lockerId\n                            }\n                        }).done(function(x) {\n                            alertStatus(\"Locker Open\");\n                            $.ajax({\n                                beforeSend: function(request) {\n                                    request.setRequestHeader('X-CSRFToken', csrftoken);\n                                },\n\n                                method: 'POST',\n                                url: '/api/owneditems/',\n                                data: data,\n                                dataType: 'json',\n                                processData: false, // Don't process the files\n                                contentType: false\n                            }).done(function(data) {\n                                console.log(data);\n                                setTimeout('parent.location.reload()', 500);\n                            });\n                        }).fail(function(data) {\n                            alertStatus(\"Unable to open at this time\");\n                        })\n\n                    }\n                } else {\n                    var itemId = $('.item-id').val();\n                    if (photo == 0) {\n                        $.ajax({\n                            beforeSend: function(request) {\n                                request.setRequestHeader('X-CSRFToken', csrftoken);\n                            },\n                            method: 'POST',\n                            url: '/api/unlocks/',\n                            data: {\n                                \"waiting\": true,\n                                \"profile\": owner,\n                                \"locker\": lockerId\n                            }\n                        }).done(function(x) {\n                            alertStatus(\"Locker Open\");\n                            $.ajax({\n                                beforeSend: function(request) {\n                                    request.setRequestHeader('X-CSRFToken', csrftoken);\n                                },\n\n                                method: 'PUT',\n                                url: '/api/owneditems/' + itemId,\n                                data: {\n                                    'title': title,\n                                    'description': description,\n                                    'price': price,\n                                    'owner': owner,\n                                    'locker': lockerId\n                                }\n                            }).done(function(data) {\n                                setTimeout('parent.location.reload()', 500);\n                            });\n                        }).fail(function(data) {\n                            alertStatus(\"Unable to open at this time\");\n                        })\n\n                    } else {\n                        $.ajax({\n                            beforeSend: function(request) {\n                                request.setRequestHeader('X-CSRFToken', csrftoken);\n                            },\n                            method: 'POST',\n                            url: '/api/unlocks/',\n                            data: {\n                                \"waiting\": true,\n                                \"profile\": owner,\n                                \"locker\": lockerId\n                            }\n                        }).done(function(x) {\n                            alertStatus(\"Locker Open\");\n                            $.ajax({\n                                beforeSend: function(request) {\n                                    request.setRequestHeader('X-CSRFToken', csrftoken);\n                                },\n                                method: 'PUT',\n                                url: '/api/owneditems/' + itemId,\n                                data: data,\n                                dataType: 'json',\n                                processData: false, // Don't process the files\n                                contentType: false\n                            }).done(function(data) {\n                                setTimeout('parent.location.reload()', 500);\n                            });\n                        }).fail(function(data) {\n                            alertStatus(\"Unable to open at this time\");\n                        })\n\n                    }\n\n                }\n\n            });\n        });\n    });\n\n};\n"]}